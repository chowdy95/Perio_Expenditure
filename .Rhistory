# Convert SVG to PNG (set width/height as desired)
rsvg_png(charToRaw(svg_code), file = "periodontal_costs_flowchart.png", width = 2000, height = 2000)
graph <- grViz("
digraph periodontal_costs {
graph [bgcolor = white]
rankdir = TB
node [shape = box, style = filled, color = black, fontname = Helvetica, fontcolor = black, width = 3]
# Section labels
label_data [shape = plaintext, label = 'Data search', fontname = Helvetica, fontsize = 14]
label_model [shape = plaintext, label = 'Model development & validation', fontname = Helvetica, fontsize = 14]
label_app [shape = plaintext, label = 'Model application', fontname = Helvetica, fontsize = 14]
label_forecast [shape = plaintext, label = 'Forecasting', fontname = Helvetica, fontsize = 14]
# Nodes (hard-coded fill colors)
a [label = 'Systematic search for periodontitis costs', fillcolor = '#CFE2F3']
b [label = 'Systematic search for data inputs\\n(macro-economic & epidemiological)', fillcolor = '#CFE2F3']
c [label = 'Systematic search for procedure charges', fillcolor = '#CFE2F3']
d [label = 'Creation of Monte Carlo simulation model', fillcolor = '#D9EAD3']
e [label = 'Validation of model against known country expenditures', fillcolor = '#D9EAD3']
f [label = 'Extrapolation of procedure costs for all countries based on GDP', fillcolor = '#FFF2CC']
g [label = 'Models run for all countries', fillcolor = '#FFF2CC']
h [label = 'Forecasting of procedure costs (2025–2050)\\nunder current & increased utilisation', fillcolor = '#F4CCCC']
# Connections
a -> b -> c -> d -> e -> f -> g -> h
# Invisible connectors to align headers
label_data -> a [style = invis]
label_model -> d [style = invis]
label_app -> f [style = invis]
label_forecast -> h [style = invis]
# Align headers with boxes
{rank = same; label_data; a; b; c}
{rank = same; label_model; d; e}
{rank = same; label_app; f; g}
{rank = same; label_forecast; h}
}
")
# --- Export section ---
# Convert to SVG text
svg_code <- export_svg(graph)
# Save as SVG file
writeLines(svg_code, "outputs/periodontal_costs_flowchart.svg")
# Convert SVG to PNG (set width/height as desired)
rsvg_png(charToRaw(svg_code), file = "outputs/periodontal_costs_flowchart.png", width = 2000, height = 2000)
graph <- grViz("
digraph periodontal_costs {
graph [bgcolor = white]
rankdir = TB
node [shape = box, style = filled, color = black, fontname = Helvetica, fontcolor = black, width = 3]
# Section headers with matching background colors
label_data [label = 'Data search', shape = box, style = filled, fillcolor = '#CFE2F3', fontsize = 14, fontname = Helvetica, width = 2]
label_model [label = 'Model development & validation', shape = box, style = filled, fillcolor = '#D9EAD3', fontsize = 14, fontname = Helvetica, width = 2]
label_app [label = 'Model application', shape = box, style = filled, fillcolor = '#FFF2CC', fontsize = 14, fontname = Helvetica, width = 2]
label_forecast [label = 'Forecasting', shape = box, style = filled, fillcolor = '#F4CCCC', fontsize = 14, fontname = Helvetica, width = 2]
# Data search nodes
a [label = 'Systematic search for periodontitis costs', fillcolor = '#CFE2F3']
b [label = 'Systematic search for data inputs\\n(macro-economic & epidemiological)', fillcolor = '#CFE2F3']
c [label = 'Systematic search for procedure charges', fillcolor = '#CFE2F3']
# Model dev/validation nodes
d [label = 'Creation of Monte Carlo simulation model', fillcolor = '#D9EAD3']
e [label = 'Validation of model against known country expenditures', fillcolor = '#D9EAD3']
# Model application nodes
f [label = 'Extrapolation of procedure costs for all countries based on GDP', fillcolor = '#FFF2CC']
g [label = 'Models run for all countries', fillcolor = '#FFF2CC']
# Forecasting node
h [label = 'Forecasting of procedure costs (2025–2050)\\nunder current & increased utilisation', fillcolor = '#F4CCCC']
# Flow connections
a -> b -> c -> d -> e -> f -> g -> h
# Invisible edges for alignment
label_data -> a [style = invis]
label_model -> d [style = invis]
label_app -> f [style = invis]
label_forecast -> h [style = invis]
# Keep headers aligned to left of their group
{rank = same; label_data; a; b; c}
{rank = same; label_model; d; e}
{rank = same; label_app; f; g}
{rank = same; label_forecast; h}
}
")
# --- Export section ---
# Convert to SVG text
svg_code <- export_svg(graph)
# Save as SVG file
writeLines(svg_code, "outputs/periodontal_costs_flowchart.svg")
# Convert SVG to PNG (set width/height as desired)
rsvg_png(charToRaw(svg_code), file = "outputs/periodontal_costs_flowchart.png", width = 2000, height = 2000)
graph <- grViz("
digraph periodontal_costs {
graph [bgcolor = white]
rankdir = TB
node [shape = box, style = filled, color = black, fontname = Helvetica, fontcolor = black, width = 3]
# --- Section headers (plain text, left-justified) ---
header_style = 'fontname=Helvetica, fontsize=16, fontcolor=black, shape=plaintext'
label_data [label = '<<b>Data search</b>>', shape = plaintext, fontsize = 16, fontname = Helvetica, fontcolor = black, align = left]
label_model [label = '<<b>Model development & validation</b>>', shape = plaintext, fontsize = 16, fontname = Helvetica, fontcolor = black, align = left]
label_app [label = '<<b>Model application</b>>', shape = plaintext, fontsize = 16, fontname = Helvetica, fontcolor = black, align = left]
label_forecast [label = '<<b>Forecasting</b>>', shape = plaintext, fontsize = 16, fontname = Helvetica, fontcolor = black, align = left]
# --- Nodes ---
a [label = 'Systematic search for periodontitis costs', fillcolor = '#CFE2F3']
b [label = 'Systematic search for data inputs\\n(macro-economic & epidemiological)', fillcolor = '#CFE2F3']
c [label = 'Systematic search for procedure charges', fillcolor = '#CFE2F3']
d [label = 'Creation of Monte Carlo simulation model', fillcolor = '#D9EAD3']
e [label = 'Validation of model against known country expenditures', fillcolor = '#D9EAD3']
f [label = 'Extrapolation of procedure costs for all countries based on GDP', fillcolor = '#FFF2CC']
g [label = 'Models run for all countries', fillcolor = '#FFF2CC']
h [label = 'Forecasting of procedure costs (2025–2050)\\nunder current & increased utilisation', fillcolor = '#F4CCCC']
# --- Flow connections ---
a -> b -> c -> d -> e -> f -> g -> h
# --- Invisible connectors for left alignment of headers ---
label_data -> a [style = invis]
label_model -> d [style = invis]
label_app -> f [style = invis]
label_forecast -> h [style = invis]
# --- Keep headers in same horizontal rank as their group ---
{rank = same; label_data; a; b; c}
{rank = same; label_model; d; e}
{rank = same; label_app; f; g}
{rank = same; label_forecast; h}
}
")
# Convert to SVG text
svg_code <- export_svg(graph)
# Save as SVG file
writeLines(svg_code, "outputs/periodontal_costs_flowchart.svg")
# Convert SVG to PNG (set width/height as desired)
rsvg_png(charToRaw(svg_code), file = "outputs/periodontal_costs_flowchart.png", width = 2000, height = 2000)
graph <- grViz("
digraph periodontal_costs {
graph [bgcolor = white]
rankdir = TB
# --- Default for the main boxes only (set AFTER header nodes definitions to avoid inheritance) ---
/*
We'll define header nodes first as plaintext (so they won't inherit 'style=filled').
Then set the default node attributes for the boxes.
*/
# --- Section headers: explicitly plain text, no fill, left-aligned using HTML label ---
label_data [shape=plaintext, label=<
<TABLE BORDER='0' CELLBORDER='0' CELLSPACING='0' CELLPADDING='0' WIDTH='200'>
<TR><TD ALIGN='LEFT'><B><FONT POINT-SIZE='14'>Data search</FONT></B></TD></TR>
</TABLE>
>];
label_model [shape=plaintext, label=<
<TABLE BORDER='0' CELLBORDER='0' CELLSPACING='0' CELLPADDING='0' WIDTH='200'>
<TR><TD ALIGN='LEFT'><B><FONT POINT-SIZE='14'>Model development &amp; validation</FONT></B></TD></TR>
</TABLE>
>];
label_app [shape=plaintext, label=<
<TABLE BORDER='0' CELLBORDER='0' CELLSPACING='0' CELLPADDING='0' WIDTH='200'>
<TR><TD ALIGN='LEFT'><B><FONT POINT-SIZE='14'>Model application</FONT></B></TD></TR>
</TABLE>
>];
label_forecast [shape=plaintext, label=<
<TABLE BORDER='0' CELLBORDER='0' CELLSPACING='0' CELLPADDING='0' WIDTH='200'>
<TR><TD ALIGN='LEFT'><B><FONT POINT-SIZE='14'>Forecasting</FONT></B></TD></TR>
</TABLE>
>];
# --- Now set defaults for the colored boxes (these will NOT affect the already-defined header nodes) ---
node [shape = box, style = filled, color = black, fontname = Helvetica, fontcolor = black, width = 3]
# Data search boxes
a [label = 'Systematic search for periodontitis costs', fillcolor = '#CFE2F3']
b [label = 'Systematic search for data inputs\\n(macro-economic & epidemiological)', fillcolor = '#CFE2F3']
c [label = 'Systematic search for procedure charges', fillcolor = '#CFE2F3']
# Model dev/validation boxes
d [label = 'Creation of Monte Carlo simulation model', fillcolor = '#D9EAD3']
e [label = 'Validation of model against known country expenditures', fillcolor = '#D9EAD3']
# Model application boxes
f [label = 'Extrapolation of procedure costs for all countries based on GDP', fillcolor = '#FFF2CC']
g [label = 'Models run for all countries', fillcolor = '#FFF2CC']
# Forecasting box
h [label = 'Forecasting of procedure costs (2025–2050)\\nunder current & increased utilisation', fillcolor = '#F4CCCC']
# --- Flow edges (connect only the main boxes) ---
a -> b -> c -> d -> e -> f -> g -> h
# --- Alignment helpers ---
# invisible edges to align header nodes with the first box in each row (use weight to prefer column alignment)
label_data -> a [style = invis, weight=10]
label_model -> d [style = invis, weight=10]
label_app -> f [style = invis, weight=10]
label_forecast -> h [style = invis, weight=10]
# keep each header and its group's boxes on the same horizontal rank
{rank = same; label_data; a; b; c}
{rank = same; label_model; d; e}
{rank = same; label_app; f; g}
{rank = same; label_forecast; h}
# optional: tighten spacing between columns and rows
nodesep = 0.6
ranksep = 0.7
}
")
# Convert to SVG text
svg_code <- export_svg(graph)
# Save as SVG file
writeLines(svg_code, "outputs/periodontal_costs_flowchart.svg")
# Convert SVG to PNG (set width/height as desired)
rsvg_png(charToRaw(svg_code), file = "outputs/periodontal_costs_flowchart.png", width = 2000, height = 2000)
graph <- grViz("
digraph periodontal_costs {
graph [bgcolor = white]
rankdir = TB
# --- Create header nodes as plaintext with left-aligned HTML tables ---
label_data [shape=plaintext, label=<
<TABLE BORDER='0' CELLBORDER='0' CELLSPACING='0' CELLPADDING='0' WIDTH='240'>
<TR><TD ALIGN='LEFT'><B><FONT POINT-SIZE='14'>Data search</FONT></B></TD></TR>
</TABLE>
>];
label_model [shape=plaintext, label=<
<TABLE BORDER='0' CELLBORDER='0' CELLSPACING='0' CELLPADDING='0' WIDTH='240'>
<TR><TD ALIGN='LEFT'><B><FONT POINT-SIZE='14'>Model development &amp; validation</FONT></B></TD></TR>
</TABLE>
>];
label_app [shape=plaintext, label=<
<TABLE BORDER='0' CELLBORDER='0' CELLSPACING='0' CELLPADDING='0' WIDTH='240'>
<TR><TD ALIGN='LEFT'><B><FONT POINT-SIZE='14'>Model application</FONT></B></TD></TR>
</TABLE>
>];
label_forecast [shape=plaintext, label=<
<TABLE BORDER='0' CELLBORDER='0' CELLSPACING='0' CELLPADDING='0' WIDTH='240'>
<TR><TD ALIGN='LEFT'><B><FONT POINT-SIZE='14'>Forecasting</FONT></B></TD></TR>
</TABLE>
>];
# --- Thin faint horizontal separators (as plaintext nodes with a single-pixel-high colored table cell) ---
sep1 [shape=plaintext, label=<
<TABLE BORDER='0' CELLBORDER='0' CELLSPACING='0' CELLPADDING='0' WIDTH='1000'>
<TR><TD BGCOLOR='#E8E8E8' HEIGHT='2'></TD></TR>
</TABLE>
>];
sep2 [shape=plaintext, label=<
<TABLE BORDER='0' CELLBORDER='0' CELLSPACING='0' CELLPADDING='0' WIDTH='1000'>
<TR><TD BGCOLOR='#E8E8E8' HEIGHT='2'></TD></TR>
</TABLE>
>];
sep3 [shape=plaintext, label=<
<TABLE BORDER='0' CELLBORDER='0' CELLSPACING='0' CELLPADDING='0' WIDTH='1000'>
<TR><TD BGCOLOR='#E8E8E8' HEIGHT='2'></TD></TR>
</TABLE>
>];
# --- Defaults for the main colored boxes ---
node [shape = box, style = filled, color = black, fontname = Helvetica, fontcolor = black, width = 3]
# Data search boxes (row 1)
a [label = 'Systematic search for periodontitis costs', fillcolor = '#CFE2F3']
b [label = 'Systematic search for data inputs\\n(macro-economic & epidemiological)', fillcolor = '#CFE2F3']
c [label = 'Systematic search for procedure charges', fillcolor = '#CFE2F3']
# Model dev/validation boxes (row 2)
d [label = 'Creation of Monte Carlo simulation model', fillcolor = '#D9EAD3']
e [label = 'Validation of model against known country expenditures', fillcolor = '#D9EAD3']
# Model application boxes (row 3)
f [label = 'Extrapolation of procedure costs for all countries based on GDP', fillcolor = '#FFF2CC']
g [label = 'Models run for all countries', fillcolor = '#FFF2CC']
# Forecasting box (row 4)
h [label = 'Forecasting of procedure costs (2025–2050)\\nunder current & increased utilisation', fillcolor = '#F4CCCC']
# --- Flow edges for main pipeline ---
a -> b -> c -> d -> e -> f -> g -> h
# --- Layout/ordering ---
# row 1: header_data | spacer | boxes a,b,c
spacer1 [shape=plaintext, label='']
{rank = same; label_data; spacer1; a; b; c}
# separator row 1
{rank = same; sep1}
# row 2: header_model | spacer | boxes d,e
spacer2 [shape=plaintext, label='']
{rank = same; label_model; spacer2; d; e}
# separator row 2
{rank = same; sep2}
# row 3: header_app | spacer | boxes f,g
spacer3 [shape=plaintext, label='']
{rank = same; label_app; spacer3; f; g}
# separator row 3
{rank = same; sep3}
# row 4: header_forecast | spacer | box h
spacer4 [shape=plaintext, label='']
{rank = same; label_forecast; spacer4; h}
# Use invisible edges with higher weight to keep header column aligned at left
label_data -> spacer1 [style=invis, weight=10]
label_model -> spacer2 [style=invis, weight=10]
label_app -> spacer3 [style=invis, weight=10]
label_forecast -> spacer4 [style=invis, weight=10]
# Ensure separators are placed between the corresponding rows by linking last element of upper row to sep node invisibly
c -> sep1 [style=invis, weight=5]
e -> sep2 [style=invis, weight=5]
g -> sep3 [style=invis, weight=5]
# Tweak spacing
nodesep = 0.6
ranksep = 0.4
}
")
# Convert to SVG text
svg_code <- export_svg(graph)
# Save as SVG file
writeLines(svg_code, "outputs/periodontal_costs_flowchart.svg")
# Convert SVG to PNG (set width/height as desired)
rsvg_png(charToRaw(svg_code), file = "outputs/periodontal_costs_flowchart.png", width = 2000, height = 2000)
graph <- grViz("
digraph periodontal_costs {
graph [bgcolor = white]
rankdir = TB
# --- Default for the main boxes only (set AFTER header nodes definitions to avoid inheritance) ---
/*
We'll define header nodes first as plaintext (so they won't inherit 'style=filled').
Then set the default node attributes for the boxes.
*/
# --- Section headers: explicitly plain text, no fill, left-aligned using HTML label ---
label_data [shape=plaintext, label=<
<TABLE BORDER='0' CELLBORDER='0' CELLSPACING='0' CELLPADDING='0' WIDTH='200'>
<TR><TD ALIGN='LEFT'><B><FONT POINT-SIZE='14'>Data search</FONT></B></TD></TR>
</TABLE>
>];
label_model [shape=plaintext, label=<
<TABLE BORDER='0' CELLBORDER='0' CELLSPACING='0' CELLPADDING='0' WIDTH='200'>
<TR><TD ALIGN='LEFT'><B><FONT POINT-SIZE='14'>Model development &amp; validation</FONT></B></TD></TR>
</TABLE>
>];
label_app [shape=plaintext, label=<
<TABLE BORDER='0' CELLBORDER='0' CELLSPACING='0' CELLPADDING='0' WIDTH='200'>
<TR><TD ALIGN='LEFT'><B><FONT POINT-SIZE='14'>Model application</FONT></B></TD></TR>
</TABLE>
>];
label_forecast [shape=plaintext, label=<
<TABLE BORDER='0' CELLBORDER='0' CELLSPACING='0' CELLPADDING='0' WIDTH='200'>
<TR><TD ALIGN='LEFT'><B><FONT POINT-SIZE='14'>Forecasting</FONT></B></TD></TR>
</TABLE>
>];
# --- Now set defaults for the colored boxes (these will NOT affect the already-defined header nodes) ---
node [shape = box, style = filled, color = black, fontname = Helvetica, fontcolor = black, width = 3]
# Data search boxes
a [label = 'Systematic search for periodontitis costs', fillcolor = '#CFE2F3']
b [label = 'Systematic search for data inputs\\n(macro-economic & epidemiological)', fillcolor = '#CFE2F3']
c [label = 'Systematic search for procedure charges', fillcolor = '#CFE2F3']
# Model dev/validation boxes
d [label = 'Creation of Monte Carlo simulation model', fillcolor = '#D9EAD3']
e [label = 'Validation of model against known country expenditures', fillcolor = '#D9EAD3']
# Model application boxes
f [label = 'Extrapolation of procedure costs for all countries based on GDP', fillcolor = '#FFF2CC']
g [label = 'Models run for all countries', fillcolor = '#FFF2CC']
# Forecasting box
h [label = 'Forecasting of procedure costs (2025–2050)\\nunder current & increased utilisation', fillcolor = '#F4CCCC']
# --- Flow edges (connect only the main boxes) ---
a -> b -> c -> d -> e -> f -> g -> h
# --- Alignment helpers ---
# invisible edges to align header nodes with the first box in each row (use weight to prefer column alignment)
label_data -> a [style = invis, weight=10]
label_model -> d [style = invis, weight=10]
label_app -> f [style = invis, weight=10]
label_forecast -> h [style = invis, weight=10]
# keep each header and its group's boxes on the same horizontal rank
{rank = same; label_data; a; b; c}
{rank = same; label_model; d; e}
{rank = same; label_app; f; g}
{rank = same; label_forecast; h}
# optional: tighten spacing between columns and rows
nodesep = 0.6
ranksep = 0.7
}
")
# Convert to SVG text
svg_code <- export_svg(graph)
# Save as SVG file
writeLines(svg_code, "outputs/periodontal_costs_flowchart.svg")
# Convert SVG to PNG (set width/height as desired)
rsvg_png(charToRaw(svg_code), file = "outputs/periodontal_costs_flowchart.png", width = 2000, height = 2000)
graph <- grViz("
digraph flow {
rankdir=TB;
// Data collection cluster
subgraph cluster_data {
label = 'Data Collection';
style = filled;
color = lightgrey;
'Search Costs' -> 'Collect Macroeconomic Data' -> 'Procedure Charges';
}
// Modeling cluster
subgraph cluster_model {
label = 'Modeling';
style = filled;
color = lightblue;
'Monte Carlo Simulation' -> 'Validation';
}
// Forecasting cluster
subgraph cluster_forecast {
label = 'Forecasting';
style = filled;
color = lightyellow;
'Extrapolate Costs' -> 'Run Models for All Countries' -> 'Forecast to 2050';
}
// Connect clusters
'Procedure Charges' -> 'Monte Carlo Simulation';
'Validation' -> 'Extrapolate Costs';
}
")
# Convert to SVG text
svg_code <- export_svg(graph)
# Save as SVG file
writeLines(svg_code, "outputs/periodontal_costs_flowchart.svg")
# Convert SVG to PNG (set width/height as desired)
rsvg_png(charToRaw(svg_code), file = "outputs/periodontal_costs_flowchart.png", width = 2000, height = 2000)
graph <- grViz("
digraph flow {
rankdir=LT;
// Data collection cluster
subgraph cluster_data {
label = 'Data Collection';
style = filled;
color = lightgrey;
shape = box;
'Search Costs' -> 'Collect Macroeconomic Data' -> 'Procedure Charges';
}
// Modeling cluster
subgraph cluster_model {
label = 'Modeling';
style = filled;
color = lightblue;
shape = box;
'Monte Carlo Simulation' -> 'Validation';
}
// Forecasting cluster
subgraph cluster_forecast {
label = 'Forecasting';
style = filled;
color = lightyellow;
shape = box;
'Extrapolate Costs' -> 'Run Models for All Countries' -> 'Forecast to 2050';
}
// Connect clusters
'Procedure Charges' -> 'Monte Carlo Simulation';
'Validation' -> 'Extrapolate Costs';
}
")
# Convert to SVG text
svg_code <- export_svg(graph)
# Save as SVG file
writeLines(svg_code, "outputs/periodontal_costs_flowchart.svg")
# Convert SVG to PNG (set width/height as desired)
rsvg_png(charToRaw(svg_code), file = "outputs/periodontal_costs_flowchart.png", width = 2000, height = 2000)
graph <- grViz("
digraph flow {
rankdir=LR;  // Left to Right flow
node [shape=box, style=filled, fillcolor=white, fontname='Helvetica'];
// Data Collection cluster
subgraph cluster_data {
label = 'Data Collection';
style = filled;
color = lightgrey;
'Search Costs' -> 'Collect Macroeconomic Data' -> 'Procedure Charges';
}
// Modeling cluster
subgraph cluster_model {
label = 'Modeling';
style = filled;
color = lightblue;
'Monte Carlo Simulation' -> 'Validation';
}
// Forecasting cluster
subgraph cluster_forecast {
label = 'Forecasting';
style = filled;
color = lightyellow;
'Extrapolate Costs' -> 'Run Models for All Countries' -> 'Forecast to 2050';
}
// Connect clusters
'Procedure Charges' -> 'Monte Carlo Simulation';
'Validation' -> 'Extrapolate Costs';
}
")
# Convert to SVG text
svg_code <- export_svg(graph)
# Save as SVG file
writeLines(svg_code, "outputs/periodontal_costs_flowchart.svg")
# Convert SVG to PNG (set width/height as desired)
rsvg_png(charToRaw(svg_code), file = "outputs/periodontal_costs_flowchart.png", width = 2000, height = 2000)
# ==============================================================================
# Cost Model Function — Optimised Version with Cleanup
# ==============================================================================
source("./99_functions.R")
# ============================================================================
# Load packages
# ============================================================================
library(MCMCpack)
library(tidyverse)
library(data.table)
# ==============================================================================
# Calling the function for 2025
# ==============================================================================
# Example file paths (adjust if needed)
countries_path <- "./data/combined_country_input_2025.csv"
procedure_lookup_high_path <- "./data/procedure_lookup.csv"
procedure_lookup_mid_path <- "./data/procedure_lookup.csv"
#  procedure_lookup_high_path <- "./data/procedure_lookup_increased_maintenance.csv"   #for various scenarios
#  procedure_lookup_mid_path  <- "./data/procedure_lookup_increased_maintenance.csv"
procedure_lookup_low_path <- "./data/procedure_lookup_low_scenario.csv"
procedure_lookup_WHO_target_path <- "./data/procedure_lookup.csv"
#  procedure_lookup_low_path  <- "./data/procedure_lookup_low_scenario_increased_maintenance.csv"
tx_split_high_path <- "./data/tx_split.csv"
tx_split_mid_path <- "./data/tx_split_mid_scenario.csv"
tx_split_low_path <- "./data/tx_split_low_scenario.csv"
tx_split_WHO_target_path <- "./data/tx_split_WHO_target_scenario.csv"
severity_split_path <- "./data/severity_split.csv"
# Where to write outputs
output_dir <- "outputs_2025_dummy"
n_sims <- 2000
# Call the new scenario runner
run_cost_model_scenarios(
countries_path = countries_path,
procedure_lookup_high_path = procedure_lookup_high_path,
procedure_lookup_mid_path = procedure_lookup_mid_path,
procedure_lookup_low_path = procedure_lookup_low_path,
tx_split_high_path = tx_split_high_path,
tx_split_mid_path = tx_split_mid_path,
tx_split_low_path = tx_split_low_path,
severity_split_path = severity_split_path,
n_sims = n_sims,
output_dir = output_dir,
scenarios = c("low", "mid", "high", "WHO_target"),
# scenarios = c("low", "mid", "high"),
slice_size = 999
)
